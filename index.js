import{a as i}from"./assets/vendor-N5iQpiFS.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const c={form:document.querySelector(".js-form"),add:document.querySelector(".js-add"),cont:document.querySelector(".js-container"),list:document.querySelector(".js-list")};c.add.addEventListener("click",l);c.form.addEventListener("submit",u);function l(){c.cont.insertAdjacentHTML("beforeend",'<input type="text" name="country" placeholder="Search country" />')}async function u(o){o.preventDefault();const n=new FormData(o.currentTarget).getAll("country").map(e=>e.trim()).filter(e=>e);try{const t=(await d(n)).map(s=>s.capital[0]),r=await f(t);c.list.innerHTML=m(r)}catch{}c.form.reset()}async function d(o){i.defaults.baseURL="https://restcountries.com/v3.1/name/";const a=o.map(async e=>i.get(`${e}`));return(await Promise.allSettled(a)).filter(e=>e.status==="fulfilled").map(e=>e.value.data[0])}async function f(o){i.defaults.baseURL="http://api.weatherapi.com/v1";const a=o.map(async e=>i.get("/current.json",{params:{key:"b6bbf5ee5b904a2bb6374500242309",q:e,lang:"uk"}}));return(await Promise.allSettled(a)).filter(e=>e.status==="fulfilled").map(e=>e.value.data)}function m(o){return o.map(({location:{country:a,name:n},current:{temp_c:e,condition:{icon:t,text:r}}})=>` <li class='card'>
        <img src="${t}" alt="${r}" class='img' />
        <h3>${a}</h3>
        <h3>${n}</h3>
        <p>${e} degr. C</p>
        <p>${r}</p>
      </li>`).join("")}
//# sourceMappingURL=index.js.map
